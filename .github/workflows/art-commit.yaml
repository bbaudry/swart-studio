name: Generate one artwork for every commit

on: push

jobs:
  gen-art:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: Get hash
      shell: bash
      run: |
        echo "sha_short=$(git rev-parse --short "$GITHUB_SHA")" >> "$GITHUB_ENV"
        echo "SHA_SHORT: ${{ env.sha_short }}"
      
#    - name: Extract commits data for art Generate
      # extract commit-id, nb lines changed, nb files changed
#      run: echo "extracting"

    - name: Generate artwork
      run: echo "generating"

    - name: Save artwork
      run: echo "saving"

    - name: Hello world action step
      id: hello
      uses: bbaudry/solar@v1.1
      with:
        who-to-greet: Vera Molnar

    # Use the output from the `hello` step
    - name: Get the output time
      run: echo "The time was ${{ steps.hello.outputs.time }}"