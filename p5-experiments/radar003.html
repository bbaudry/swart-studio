<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="UTF-8">
    <script src="libraries/p5.js"></script>
    <script src="libraries/p5.sound.js"></script>
    <style>
        body {
            padding: 0;
            margin: 0;
        }
    </style>
</head>

<body>
    <script>
        //global vars for the whole piece
        var w = document.documentElement.clientWidth;//width of window that is available for drawing
        var h = document.documentElement.clientHeight;//width of window that is available for drawing


        function preload() {

        }

        function setup() {
            colorMode(HSB, 360, 100, 100);
            createCanvas(w, h);
            background(0, 0, 0)
            frameRate(17)
        }

        function draw() {
            noFill();
            let x1, x2, x3, x4, y1, y2, y3, y4;
            if (frameCount % 2 == 0) { background(0, 0, 0) }
            else {
                stroke(0, 100, 100);
                if(random()<0.5){fill(0,100,100);}
                else {noFill();}
                drawQuads(0.42 * w, 0.52 * h, 0.58 * w, 0.52 * h, 0.02 * w, 0.98 * h, 0.98 * w, 0.98 * h);
                drawQuads(0.58 * w, 0.48 * h, 0.42 * w, 0.48 * h, 0.98 * w, 0.02 * h, 0.02 * w, 0.02 * h);
                //            drawQuads(0.42*w, 0.02*h, 0.08*w, 0.52*h, 0.02*w, 0.48*h, 0.48*w, 0.98*h); 

                stroke(90, 100, 100);
                if(random()<0.5){fill(90,100,100);}
                else {noFill();}
                drawQuads(0.4 * w, 0.49 * h, 0.4 * w, 0.51 * h, 0.02 * w, 0.04 * h, 0.02 * w, 0.96 * h)
                drawQuads(0.6 * w, 0.51 * h, 0.6 * w, 0.49 * h, 0.98 * w, 0.96 * h, 0.98 * w, 0.04 * h)
            }

        }

        function drawQuads(topleftx, toplefty, toprightx, toprighty, bottomleftx, bottomlefty, bottomrightx, bottomrighty) {
            let t1, t2;
            t1 = 0; t2 = 0.09;
            while (t1 < 0.9) {
                x1 = (1 - t1) * bottomleftx + (t1 * topleftx);
                y1 = (1 - t1) * bottomlefty + (t1 * toplefty);
                x2 = (1 - t2) * bottomleftx + (t2 * topleftx);
                y2 = (1 - t2) * bottomlefty + (t2 * toplefty);
                x3 = (1 - t2) * bottomrightx + (t2 * toprightx);
                y3 = (1 - t2) * bottomrighty + (t2 * toprighty);
                x4 = (1 - t1) * bottomrightx + (t1 * toprightx);
                y4 = (1 - t1) * bottomrighty + (t1 * toprighty);;
                if (random()<0.5){quad(x1, y1, x2, y2, x3, y3, x4, y4);}
                t1 += 0.1; t2 += 0.1;
            }
        }


        function windowResized() {
            w = document.documentElement.clientWidth;//width of window that is available for drawing
            h = document.documentElement.clientHeight;//width of window that is available for drawing
            resizeCanvas(w, h);
        }

    </script>
</body>

</html>