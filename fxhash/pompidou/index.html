<!DOCTYPE html>
<html lang="en">

<head>
  <script src="./p5.js"></script>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <script id="fxhash-snippet">
    //---- do not edit the following code (you can indent as you wish)
    let alphabet = "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"
    var fxhash = "oo" + Array(49).fill(0).map(_ => alphabet[(Math.random() * alphabet.length) | 0]).join('')
    let b58dec = str => [...str].reduce((p, c) => p * alphabet.length + alphabet.indexOf(c) | 0, 0)
    let fxhashTrunc = fxhash.slice(2)
    let regex = new RegExp(".{" + ((fxhashTrunc.length / 4) | 0) + "}", 'g')
    let hashes = fxhashTrunc.match(regex).map(h => b58dec(h))
    let sfc32 = (a, b, c, d) => {
      return () => {
        a |= 0; b |= 0; c |= 0; d |= 0
        var t = (a + b | 0) + d | 0
        d = d + 1 | 0
        a = b ^ b >>> 9
        b = c + (c << 3) | 0
        c = c << 21 | c >>> 11
        c = c + t | 0
        return (t >>> 0) / 4294967296
      }
    }
    var fxrand = sfc32(...hashes)
    // true if preview mode active, false otherwise
    // you can append preview=1 to the URL to simulate preview active
    var isFxpreview = new URLSearchParams(window.location.search).get('preview') === "1"
    // call this method to trigger the preview
    function fxpreview() {
      console.log("fxhash: TRIGGER PREVIEW")
    }
        //---- /do not edit the following code
  </script>
</head>

<body>
  <script>
    var w = 600;//document.documentElement.clientWidth;//width of window that is available for drawing
    var h = 264;//document.documentElement.clientHeight;//width of window that is available for drawing
    var grain = 100;
    var palette = [['#000000','#ffffff'],['#00ffff','#ff00a1'],['#008080','#f28f93']]
    var story = 24;
    var step = 66;
    var mechanic = 1.6;

    function setup() {
      createCanvas(w, h);
      window.$fxhashFeatures = {

      }
    }

    function draw() {
      var back = color(palette[2][0]);
      background(back);
      var front = color(palette[2][1])
      fill(front)
      noStroke()
      rect(0,story,w,story)
      rect(0,3*story,w,story)
      rect(0,5*story,w,story)
      rect(0,7*story,w,story)
      rect(0,9*story,w,story)

      var x1,x2,x3,x4,y1,y2,y3,y4;

      fill(back)
      x1=step; y1=10*story;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*story;
      }
      fill(front)
      x1=step-(0.21*story); y1=9*story;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*story;
      }
      fill(back)
      x1=step-(0.42*story); y1=8*story;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*story;
      }

      /*      x1=step; y1=10*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);*/

    }


    function windowResized() {
      w = document.documentElement.clientWidth;//width of window that is available for drawing
      h = document.documentElement.clientHeight;//width of window that is available for drawing
      resizeCanvas(windowWidth, windowHeight);
    }

  </script>

</body>