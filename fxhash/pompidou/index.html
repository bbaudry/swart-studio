<!DOCTYPE html>
<html lang="en">

<head>
  <script src="./p5.js"></script>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <script id="fxhash-snippet">
    //---- do not edit the following code (you can indent as you wish)
    let alphabet = "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"
    var fxhash = "oo" + Array(49).fill(0).map(_ => alphabet[(Math.random() * alphabet.length) | 0]).join('')
    let b58dec = str => [...str].reduce((p, c) => p * alphabet.length + alphabet.indexOf(c) | 0, 0)
    let fxhashTrunc = fxhash.slice(2)
    let regex = new RegExp(".{" + ((fxhashTrunc.length / 4) | 0) + "}", 'g')
    let hashes = fxhashTrunc.match(regex).map(h => b58dec(h))
    let sfc32 = (a, b, c, d) => {
      return () => {
        a |= 0; b |= 0; c |= 0; d |= 0
        var t = (a + b | 0) + d | 0
        d = d + 1 | 0
        a = b ^ b >>> 9
        b = c + (c << 3) | 0
        c = c << 21 | c >>> 11
        c = c + t | 0
        return (t >>> 0) / 4294967296
      }
    }
    var fxrand = sfc32(...hashes)
    // true if preview mode active, false otherwise
    // you can append preview=1 to the URL to simulate preview active
    var isFxpreview = new URLSearchParams(window.location.search).get('preview') === "1"
    // call this method to trigger the preview
    function fxpreview() {
      console.log("fxhash: TRIGGER PREVIEW")
    }
        //---- /do not edit the following code
  </script>
</head>

<body>
  <script>
    /*this piece is an homage to centre pompidou as they announced the acquisition of NFTs on 2023/03/10
    https://www.centrepompidou.fr/fr/magazine/article/le-centre-pompidou-passe-a-lheure-nft?s=09
    The piece revisits the logo of centre Pompidou
    Color palettes are from the original logo as well as from three NFT acquired by the museum: CryptoPunk 110, Sentimentite and Hand-Hacked Bouquet 1
    https://cryptopunks.app/public/images/cryptopunks/punk0110.png
    https://www.centrepompidou.fr/fileadmin/user_upload/sculpturevirtuelle.jpg
    https://www.centrepompidou.fr/fileadmin/user_upload/Magid_Hand-hackedBouquet1_Out-GameFlowers.jpg
    Color palettes were collected with Gpick and I chose 4 colors from each palette

    Original palette: '#000000','#ffffff'
    Cryptopunk palette: '#CD00CB','#FFD926', '#713F1D', '#C6C6C6'
    Sentimentite palette: '#24C434', '#FD961C', '#452AA8', '#925B9B'
    Hand-Hacked Bouquet 1: '#6D6E69', '#2B8426', '#55A6C1', '#D3BC57'

    */
    var w = 600;//document.documentElement.clientWidth;//width of window that is available for drawing
    var h = 264;//document.documentElement.clientHeight;//width of window that is available for drawing
    var grain = 100;
    var palette_black = [['#000000','#ffffff'],['#000000','#CD00CB'],['#000000','#FFD926'],['#000000','#24C434'],['#000000','#FD961C'],['#000000','#55A6C1'],['#000000','#D3BC57']]
    var palette_white = [['#000000','#ffffff'],['#713F1D','#ffffff'],['#C6C6C6','#ffffff'],['#452AA8','#ffffff'],['#925B9B','#ffffff'],['#6D6E69','#ffffff'],['#2B8426','#ffffff']]
    var palette = []
    var stripe_width = 24;
    var step = 66;
    var mechanic = 1.6;

    function setup() {
        createCanvas(w, h);
        window.$fxhashFeatures = {

        }
        palette=palette_white
        frameRate(1);
    }

    function draw() {
      var c_index=Math.floor(fxrand()*palette.length);
      var back = color(palette[c_index][0]);
      var front = color(palette[c_index][1])
      noStroke()
      //fill background with the back color
      background(back);
      //draw 9 horizontal stripes with the front color
      fill(front)
      for(i=1;i<10;i+=2){
        rect(0,i*stripe_width,w,stripe_width)
      }
      //variables to select the coordinates of the four corners of the quadrilateres used to draw the escalator
      var x1,x2,x3,x4,y1,y2,y3,y4;
      //draw the 'bottom' part of the escalator with the back color
      fill(back)
      x1=step; y1=10*stripe_width;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*stripe_width; x3 = x2+mechanic*stripe_width; y3=y2; x4=x1+mechanic*stripe_width; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*stripe_width;
      }
       //draw the escalator with the front color
      fill(front)
      x1=step-(0.21*stripe_width); y1=9*stripe_width;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*stripe_width; x3 = x2+mechanic*stripe_width; y3=y2; x4=x1+mechanic*stripe_width; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*stripe_width;
      }
       //draw the 'top' part of the escalator with the back color
      fill(back)
      x1=step-(0.42*stripe_width); y1=8*stripe_width;
      for(i=0;i<4;i++){
        x2=x1+step; y2=y1-2*stripe_width; x3 = x2+mechanic*stripe_width; y3=y2; x4=x1+mechanic*stripe_width; y4=y1;
        quad(x1,y1,x2,y2,x3,y3,x4,y4);
        x1+=2*step; y1-=2*stripe_width;
      }

      /*      x1=step; y1=10*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);
      x1+=2*step; y1-=2*story; x2=x1+step; y2=y1-2*story; x3 = x2+mechanic*story; y3=y2; x4=x1+mechanic*story; y4=y1;
      quad(x1,y1,x2,y2,x3,y3,x4,y4);*/

    }


    function windowResized() {
      w = document.documentElement.clientWidth;//width of window that is available for drawing
      h = document.documentElement.clientHeight;//width of window that is available for drawing
      resizeCanvas(windowWidth, windowHeight);
    }

  </script>

</body>