<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js"></script>
    <style>
        body {
            padding: 0;
            margin: 0;
        }
    </style>
</head>

<body>
    <script>
        //global vars for the whole piece
        var w = document.documentElement.clientWidth;//width of window that is available for drawing
        var h = document.documentElement.clientHeight;//width of window that is available for drawing
        let centers = [];
        let rad = 0.2*h
        let img;
        function preload() {
            img = loadImage('2-pool.jpg');
        }

        function setup(){
            colorMode(HSB,360,100,100,250);
            createCanvas(w, h);
            image(img, -1500, -1500);
            
            
        }
        var palette = [30,120,210,300]
        function draw(){
            noStroke()
            let hu = palette[Math.floor(random()*palette.length)]
            console.log(hu)
            fill(hu,100,100,random()*84)
            ellipse(random()*w,random()*h,168+random()*336,168+random()*336)
            if(frameCount==168){noLoop();save("by-the-pool.png")}
        }

        function windowResized() {
            w = document.documentElement.clientWidth;//width of window that is available for drawing
            h = document.documentElement.clientHeight;//width of window that is available for drawing
            resizeCanvas(w, h);
        }

    </script>
</body>

</html>